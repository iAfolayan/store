"use strict";var cov_15enm3ygy7=function(){var path="/Users/andela/Desktop/sm/store-manager/tests/sales.spec.js",hash="b52f21d92c6c3b566036bcab41f7a44f29d31550",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/Users/andela/Desktop/sm/store-manager/tests/sales.spec.js",statementMap:{"0":{start:{line:3,column:29},end:{line:3,column:84}},"1":{start:{line:5,column:12},end:{line:5,column:27}},"2":{start:{line:7,column:17},end:{line:7,column:61}},"3":{start:{line:9,column:11},end:{line:9,column:56}},"4":{start:{line:11,column:14},end:{line:11,column:51}},"5":{start:{line:12,column:13},end:{line:12,column:17}},"6":{start:{line:13,column:16},end:{line:25,column:1}},"7":{start:{line:26,column:0},end:{line:52,column:3}},"8":{start:{line:27,column:2},end:{line:51,column:5}},"9":{start:{line:28,column:4},end:{line:50,column:7}},"10":{start:{line:29,column:6},end:{line:29,column:32}},"11":{start:{line:29,column:15},end:{line:29,column:32}},"12":{start:{line:30,column:6},end:{line:30,column:50}},"13":{start:{line:31,column:6},end:{line:31,column:61}},"14":{start:{line:32,column:6},end:{line:32,column:57}},"15":{start:{line:33,column:6},end:{line:33,column:58}},"16":{start:{line:34,column:18},end:{line:34,column:31}},"17":{start:{line:35,column:6},end:{line:35,column:27}},"18":{start:{line:36,column:6},end:{line:48,column:9}},"19":{start:{line:37,column:8},end:{line:37,column:51}},"20":{start:{line:38,column:8},end:{line:38,column:63}},"21":{start:{line:39,column:8},end:{line:39,column:57}},"22":{start:{line:40,column:8},end:{line:40,column:72}},"23":{start:{line:41,column:8},end:{line:41,column:64}},"24":{start:{line:42,column:8},end:{line:42,column:59}},"25":{start:{line:43,column:8},end:{line:43,column:63}},"26":{start:{line:44,column:8},end:{line:44,column:60}},"27":{start:{line:45,column:8},end:{line:45,column:66}},"28":{start:{line:46,column:8},end:{line:46,column:63}},"29":{start:{line:47,column:8},end:{line:47,column:59}},"30":{start:{line:49,column:6},end:{line:49,column:13}},"31":{start:{line:53,column:0},end:{line:63,column:3}},"32":{start:{line:54,column:2},end:{line:62,column:5}},"33":{start:{line:55,column:4},end:{line:61,column:7}},"34":{start:{line:56,column:6},end:{line:56,column:32}},"35":{start:{line:56,column:15},end:{line:56,column:32}},"36":{start:{line:57,column:6},end:{line:57,column:50}},"37":{start:{line:58,column:6},end:{line:58,column:61}},"38":{start:{line:59,column:6},end:{line:59,column:58}},"39":{start:{line:60,column:6},end:{line:60,column:13}},"40":{start:{line:64,column:0},end:{line:73,column:3}},"41":{start:{line:65,column:2},end:{line:72,column:5}},"42":{start:{line:66,column:4},end:{line:71,column:7}},"43":{start:{line:67,column:6},end:{line:67,column:50}},"44":{start:{line:68,column:6},end:{line:68,column:87}},"45":{start:{line:69,column:6},end:{line:69,column:58}},"46":{start:{line:70,column:6},end:{line:70,column:13}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:26,column:39},end:{line:26,column:40}},loc:{start:{line:26,column:51},end:{line:52,column:1}},line:26},"1":{name:"(anonymous_1)",decl:{start:{line:27,column:36},end:{line:27,column:37}},loc:{start:{line:27,column:52},end:{line:51,column:3}},line:27},"2":{name:"(anonymous_2)",decl:{start:{line:28,column:37},end:{line:28,column:38}},loc:{start:{line:28,column:57},end:{line:50,column:5}},line:28},"3":{name:"(anonymous_3)",decl:{start:{line:36,column:20},end:{line:36,column:21}},loc:{start:{line:36,column:36},end:{line:48,column:7}},line:36},"4":{name:"(anonymous_4)",decl:{start:{line:53,column:28},end:{line:53,column:29}},loc:{start:{line:53,column:40},end:{line:63,column:1}},line:53},"5":{name:"(anonymous_5)",decl:{start:{line:54,column:33},end:{line:54,column:34}},loc:{start:{line:54,column:49},end:{line:62,column:3}},line:54},"6":{name:"(anonymous_6)",decl:{start:{line:55,column:53},end:{line:55,column:54}},loc:{start:{line:55,column:73},end:{line:61,column:5}},line:55},"7":{name:"(anonymous_7)",decl:{start:{line:64,column:31},end:{line:64,column:32}},loc:{start:{line:64,column:43},end:{line:73,column:1}},line:64},"8":{name:"(anonymous_8)",decl:{start:{line:65,column:36},end:{line:65,column:37}},loc:{start:{line:65,column:52},end:{line:72,column:3}},line:65},"9":{name:"(anonymous_9)",decl:{start:{line:66,column:94},end:{line:66,column:95}},loc:{start:{line:66,column:114},end:{line:71,column:5}},line:66}},branchMap:{"0":{loc:{start:{line:29,column:6},end:{line:29,column:32}},type:"if",locations:[{start:{line:29,column:6},end:{line:29,column:32}},{start:{line:29,column:6},end:{line:29,column:32}}],line:29},"1":{loc:{start:{line:56,column:6},end:{line:56,column:32}},type:"if",locations:[{start:{line:56,column:6},end:{line:56,column:32}},{start:{line:56,column:6},end:{line:56,column:32}}],line:56}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var _interopRequireDefault=(cov_15enm3ygy7.s[0]++,require("@babel/runtime/helpers/interopRequireDefault"));var _chai=(cov_15enm3ygy7.s[1]++,require("chai"));var _supertest=(cov_15enm3ygy7.s[2]++,_interopRequireDefault(require("supertest")));var _app=(cov_15enm3ygy7.s[3]++,_interopRequireDefault(require("../app/app")));var request=(cov_15enm3ygy7.s[4]++,(0,_supertest.default)(_app.default));var saleId=(cov_15enm3ygy7.s[5]++,null);var dummyData=(cov_15enm3ygy7.s[6]++,{sellerId:'SA568',saleAttendantName:'Afolayan Isaiah',productId:2,name:'wireless bluetooth',category:'phone',quantity:50,price:'N4000',totalAmount:75000,description:'test product',minimumAllowed:200,date:'2018-10-18:00:00:25GMT'});cov_15enm3ygy7.s[7]++;describe('GET available sale records',function(){cov_15enm3ygy7.f[0]++;cov_15enm3ygy7.s[8]++;it('should get all sale records',function(done){cov_15enm3ygy7.f[1]++;cov_15enm3ygy7.s[9]++;request.get('/api/v1/sales').end(function(err,res){cov_15enm3ygy7.f[2]++;cov_15enm3ygy7.s[10]++;if(err){cov_15enm3ygy7.b[0][0]++;cov_15enm3ygy7.s[11]++;return done(err);}else{cov_15enm3ygy7.b[0][1]++;}cov_15enm3ygy7.s[12]++;(0,_chai.expect)(res.status).to.equal(200);cov_15enm3ygy7.s[13]++;(0,_chai.expect)(res.body).to.haveOwnProperty('data');cov_15enm3ygy7.s[14]++;(0,_chai.expect)(res.body.data).to.be.an('array');cov_15enm3ygy7.s[15]++;(0,_chai.expect)(res.body.data.length).to.equal(5);var sales=(cov_15enm3ygy7.s[16]++,res.body.data);cov_15enm3ygy7.s[17]++;saleId=sales[0].id;cov_15enm3ygy7.s[18]++;sales.forEach(function(sale){cov_15enm3ygy7.f[3]++;cov_15enm3ygy7.s[19]++;(0,_chai.expect)(sale).to.be.an('object');cov_15enm3ygy7.s[20]++;(0,_chai.expect)(sale).to.haveOwnProperty('sellerId');cov_15enm3ygy7.s[21]++;(0,_chai.expect)(sale).to.haveOwnProperty('id');cov_15enm3ygy7.s[22]++;(0,_chai.expect)(sale).to.haveOwnProperty('saleAttendantName');cov_15enm3ygy7.s[23]++;(0,_chai.expect)(sale).to.haveOwnProperty('productId');cov_15enm3ygy7.s[24]++;(0,_chai.expect)(sale).to.haveOwnProperty('name');cov_15enm3ygy7.s[25]++;(0,_chai.expect)(sale).to.haveOwnProperty('quantity');cov_15enm3ygy7.s[26]++;(0,_chai.expect)(sale).to.haveOwnProperty('price');cov_15enm3ygy7.s[27]++;(0,_chai.expect)(sale).to.haveOwnProperty('totalAmount');cov_15enm3ygy7.s[28]++;(0,_chai.expect)(sale).to.haveOwnProperty('category');cov_15enm3ygy7.s[29]++;(0,_chai.expect)(sale).to.haveOwnProperty('date');});cov_15enm3ygy7.s[30]++;done();});});});cov_15enm3ygy7.s[31]++;describe('GET single sale',function(){cov_15enm3ygy7.f[4]++;cov_15enm3ygy7.s[32]++;it('should get a single sale',function(done){cov_15enm3ygy7.f[5]++;cov_15enm3ygy7.s[33]++;request.get("/api/v1/sales/".concat(saleId)).end(function(err,res){cov_15enm3ygy7.f[6]++;cov_15enm3ygy7.s[34]++;if(err){cov_15enm3ygy7.b[1][0]++;cov_15enm3ygy7.s[35]++;return done(err);}else{cov_15enm3ygy7.b[1][1]++;}cov_15enm3ygy7.s[36]++;(0,_chai.expect)(res.status).to.equal(200);cov_15enm3ygy7.s[37]++;(0,_chai.expect)(res.body).to.haveOwnProperty('data');cov_15enm3ygy7.s[38]++;(0,_chai.expect)(res.body.data).to.be.an('object');cov_15enm3ygy7.s[39]++;done();});});});cov_15enm3ygy7.s[40]++;describe('Create Sale Record',function(){cov_15enm3ygy7.f[7]++;cov_15enm3ygy7.s[41]++;it('should create a sale record',function(done){cov_15enm3ygy7.f[8]++;cov_15enm3ygy7.s[42]++;request.post('/api/v1/sales').set('Content-Type','Application/json').send(dummyData).end(function(err,res){cov_15enm3ygy7.f[9]++;cov_15enm3ygy7.s[43]++;(0,_chai.expect)(res.status).to.equal(201);cov_15enm3ygy7.s[44]++;(0,_chai.expect)(res.body.msg).to.equal('Sale record was successfully created');cov_15enm3ygy7.s[45]++;(0,_chai.expect)(res.body.data).to.be.an('object');cov_15enm3ygy7.s[46]++;done();});});});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNhbGVzLnNwZWMuanMiXSwibmFtZXMiOlsicmVxdWVzdCIsImFwcCIsInNhbGVJZCIsImR1bW15RGF0YSIsInNlbGxlcklkIiwic2FsZUF0dGVuZGFudE5hbWUiLCJwcm9kdWN0SWQiLCJuYW1lIiwiY2F0ZWdvcnkiLCJxdWFudGl0eSIsInByaWNlIiwidG90YWxBbW91bnQiLCJkZXNjcmlwdGlvbiIsIm1pbmltdW1BbGxvd2VkIiwiZGF0ZSIsImRlc2NyaWJlIiwiaXQiLCJkb25lIiwiZ2V0IiwiZW5kIiwiZXJyIiwicmVzIiwic3RhdHVzIiwidG8iLCJlcXVhbCIsImJvZHkiLCJoYXZlT3duUHJvcGVydHkiLCJkYXRhIiwiYmUiLCJhbiIsImxlbmd0aCIsInNhbGVzIiwiaWQiLCJmb3JFYWNoIiwic2FsZSIsInBvc3QiLCJzZXQiLCJzZW5kIiwibXNnIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBRUEsSUFBTUEsT0FBTyxHQUFHLHdCQUFVQyxZQUFWLENBQWhCO0FBQ0EsSUFBSUMsTUFBTSxHQUFHLElBQWI7QUFFQSxJQUFNQyxTQUFTLEdBQUc7QUFDaEJDLEVBQUFBLFFBQVEsRUFBRSxPQURNO0FBRWhCQyxFQUFBQSxpQkFBaUIsRUFBRSxpQkFGSDtBQUdoQkMsRUFBQUEsU0FBUyxFQUFFLENBSEs7QUFJaEJDLEVBQUFBLElBQUksRUFBRSxvQkFKVTtBQUtoQkMsRUFBQUEsUUFBUSxFQUFFLE9BTE07QUFNaEJDLEVBQUFBLFFBQVEsRUFBRSxFQU5NO0FBT2hCQyxFQUFBQSxLQUFLLEVBQUUsT0FQUztBQVFoQkMsRUFBQUEsV0FBVyxFQUFFLEtBUkc7QUFTaEJDLEVBQUFBLFdBQVcsRUFBRSxjQVRHO0FBVWhCQyxFQUFBQSxjQUFjLEVBQUUsR0FWQTtBQVdoQkMsRUFBQUEsSUFBSSxFQUFFO0FBWFUsQ0FBbEI7QUFjQUMsUUFBUSxDQUFDLDRCQUFELEVBQStCLFlBQU07QUFDM0NDLEVBQUFBLEVBQUUsQ0FBQyw2QkFBRCxFQUFn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QUFRLENBQUMsb0JBQUQsRUFBdUIsWUFBTTtBQUNuQ0MsRUFBQUEsRUFBRSxDQUFDLDZCQUFELEVBQWdDLFVBQUNDLElBQUQsRUFBVTtBQUMxQ2pCLElBQUFBLE9BQU8sQ0FDSm1DLElBREgsQ0FDUSxlQURSLEVBRUdDLEdBRkgsQ0FFTyxjQUZQLEVBRXVCLGtCQUZ2QixFQUdHQyxJQUhILENBR1FsQyxTQUhSLEVBSUdnQixHQUpILENBSU8sVUFBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQWM7QUFDakIsd0JBQU9BLEdBQUcsQ0FBQ0MsTUFBWCxFQUFtQkMsRUFBbkIsQ0FBc0JDLEtBQXRCLENBQTRCLEdBQTVCO0FBQ0Esd0JBQU9ILEdBQUcsQ0FBQ0ksSUFBSixDQUFTYSxHQUFoQixFQUFxQmYsRUFBckIsQ0FBd0JDLEtBQXhCLENBQThCLHNDQUE5QjtBQUNBLHdCQUFPSCxHQUFHLENBQUNJLElBQUosQ0FBU0UsSUFBaEIsRUFBc0JKLEVBQXRCLENBQXlCSyxFQUF6QixDQUE0QkMsRUFBNUIsQ0FBK0IsUUFBL0I7QUFDQVosTUFBQUEsSUFBSTtBQUNMLEtBVEg7QUFVRCxHQVhDLENBQUY7QUFZRCxDQWJPLENBQVIiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FuZGVsYS9EZXNrdG9wL3NtL3N0b3JlLW1hbmFnZXIvdGVzdHMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBleHBlY3QgfSBmcm9tICdjaGFpJztcbmltcG9ydCBzdXBlcnRlc3QgZnJvbSAnc3VwZXJ0ZXN0JztcbmltcG9ydCBhcHAgZnJvbSAnLi4vYXBwL2FwcCc7XG5cbmNvbnN0IHJlcXVlc3QgPSBzdXBlcnRlc3QoYXBwKTtcbmxldCBzYWxlSWQgPSBudWxsO1xuXG5jb25zdCBkdW1teURhdGEgPSB7XG4gIHNlbGxlcklkOiAnU0E1NjgnLFxuICBzYWxlQXR0ZW5kYW50TmFtZTogJ0Fmb2xheWFuIElzYWlhaCcsXG4gIHByb2R1Y3RJZDogMixcbiAgbmFtZTogJ3dpcmVsZXNzIGJsdWV0b290aCcsXG4gIGNhdGVnb3J5OiAncGhvbmUnLFxuICBxdWFudGl0eTogNTAsXG4gIHByaWNlOiAnTjQwMDAnLFxuICB0b3RhbEFtb3VudDogNzUwMDAsXG4gIGRlc2NyaXB0aW9uOiAndGVzdCBwcm9kdWN0JyxcbiAgbWluaW11bUFsbG93ZWQ6IDIwMCxcbiAgZGF0ZTogJzIwMTgtMTAtMTg6MDA6MDA6MjVHTVQnXG59O1xuXG5kZXNjcmliZSgnR0VUIGF2YWlsYWJsZSBzYWxlIHJlY29yZHMnLCAoKSA9PiB7XG4gIGl0KCdzaG91bGQgZ2V0IGFsbCBzYWxlIHJlY29yZHMnLCAoZG9uZSkgPT4ge1xuICAgIHJlcXVlc3RcbiAgICAgIC5nZXQoJy9hcGkvdjEvc2FsZXMnKVxuICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgaWYgKGVycikgcmV0dXJuIGRvbmUoZXJyKTtcbiAgICAgICAgZXhwZWN0KHJlcy5zdGF0dXMpLnRvLmVxdWFsKDIwMCk7XG4gICAgICAgIGV4cGVjdChyZXMuYm9keSkudG8uaGF2ZU93blByb3BlcnR5KCdkYXRhJyk7XG4gICAgICAgIGV4cGVjdChyZXMuYm9keS5kYXRhKS50by5iZS5hbignYXJyYXknKTtcbiAgICAgICAgZXhwZWN0KHJlcy5ib2R5LmRhdGEubGVuZ3RoKS50by5lcXVhbCg1KTtcbiAgICAgICAgY29uc3Qgc2FsZXMgPSByZXMuYm9keS5kYXRhO1xuICAgICAgICBzYWxlSWQgPSBzYWxlc1swXS5pZDtcbiAgICAgICAgc2FsZXMuZm9yRWFjaCgoc2FsZSkgPT4ge1xuICAgICAgICAgIGV4cGVjdChzYWxlKS50by5iZS5hbignb2JqZWN0Jyk7XG4gICAgICAgICAgZXhwZWN0KHNhbGUpLnRvLmhhdmVPd25Qcm9wZXJ0eSgnc2VsbGVySWQnKTtcbiAgICAgICAgICBleHBlY3Qoc2FsZSkudG8uaGF2ZU93blByb3BlcnR5KCdpZCcpO1xuICAgICAgICAgIGV4cGVjdChzYWxlKS50by5oYXZlT3duUHJvcGVydHkoJ3NhbGVBdHRlbmRhbnROYW1lJyk7XG4gICAgICAgICAgZXhwZWN0KHNhbGUpLnRvLmhhdmVPd25Qcm9wZXJ0eSgncHJvZHVjdElkJyk7XG4gICAgICAgICAgZXhwZWN0KHNhbGUpLnRvLmhhdmVPd25Qcm9wZXJ0eSgnbmFtZScpO1xuICAgICAgICAgIGV4cGVjdChzYWxlKS50by5oYXZlT3duUHJvcGVydHkoJ3F1YW50aXR5Jyk7XG4gICAgICAgICAgZXhwZWN0KHNhbGUpLnRvLmhhdmVPd25Qcm9wZXJ0eSgncHJpY2UnKTtcbiAgICAgICAgICBleHBlY3Qoc2FsZSkudG8uaGF2ZU93blByb3BlcnR5KCd0b3RhbEFtb3VudCcpO1xuICAgICAgICAgIGV4cGVjdChzYWxlKS50by5oYXZlT3duUHJvcGVydHkoJ2NhdGVnb3J5Jyk7XG4gICAgICAgICAgZXhwZWN0KHNhbGUpLnRvLmhhdmVPd25Qcm9wZXJ0eSgnZGF0ZScpO1xuICAgICAgICB9KTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdHRVQgc2luZ2xlIHNhbGUnLCAoKSA9PiB7XG4gIGl0KCdzaG91bGQgZ2V0IGEgc2luZ2xlIHNhbGUnLCAoZG9uZSkgPT4ge1xuICAgIHJlcXVlc3RcbiAgICAgIC5nZXQoYC9hcGkvdjEvc2FsZXMvJHtzYWxlSWR9YClcbiAgICAgIC5lbmQoKGVyciwgcmVzKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHJldHVybiBkb25lKGVycik7XG4gICAgICAgIGV4cGVjdChyZXMuc3RhdHVzKS50by5lcXVhbCgyMDApO1xuICAgICAgICBleHBlY3QocmVzLmJvZHkpLnRvLmhhdmVPd25Qcm9wZXJ0eSgnZGF0YScpO1xuICAgICAgICBleHBlY3QocmVzLmJvZHkuZGF0YSkudG8uYmUuYW4oJ29iamVjdCcpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9KTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ0NyZWF0ZSBTYWxlIFJlY29yZCcsICgpID0+IHtcbiAgaXQoJ3Nob3VsZCBjcmVhdGUgYSBzYWxlIHJlY29yZCcsIChkb25lKSA9PiB7XG4gICAgcmVxdWVzdFxuICAgICAgLnBvc3QoJy9hcGkvdjEvc2FsZXMnKVxuICAgICAgLnNldCgnQ29udGVudC1UeXBlJywgJ0FwcGxpY2F0aW9uL2pzb24nKVxuICAgICAgLnNlbmQoZHVtbXlEYXRhKVxuICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlcy5zdGF0dXMpLnRvLmVxdWFsKDIwMSk7XG4gICAgICAgIGV4cGVjdChyZXMuYm9keS5tc2cpLnRvLmVxdWFsKCdTYWxlIHJlY29yZCB3YXMgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQnKTtcbiAgICAgICAgZXhwZWN0KHJlcy5ib2R5LmRhdGEpLnRvLmJlLmFuKCdvYmplY3QnKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSk7XG4gIH0pO1xufSk7XG4iXX0=