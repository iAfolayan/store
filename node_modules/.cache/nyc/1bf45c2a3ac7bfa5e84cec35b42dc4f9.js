var cov_2gr2lnjuwh=function(){var path="/Users/andela/Documents/store-manager/tests/products.spec.js",hash="b8d4fc8a4fcbf5e39912d66f0b8edd899a423338",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/Users/andela/Documents/store-manager/tests/products.spec.js",statementMap:{"0":{start:{line:4,column:16},end:{line:4,column:30}},"1":{start:{line:5,column:16},end:{line:5,column:20}},"2":{start:{line:6,column:18},end:{line:14,column:1}},"3":{start:{line:15,column:0},end:{line:24,column:3}},"4":{start:{line:16,column:2},end:{line:23,column:5}},"5":{start:{line:17,column:4},end:{line:22,column:7}},"6":{start:{line:18,column:6},end:{line:18,column:32}},"7":{start:{line:18,column:15},end:{line:18,column:32}},"8":{start:{line:19,column:6},end:{line:19,column:39}},"9":{start:{line:20,column:6},end:{line:20,column:68}},"10":{start:{line:21,column:6},end:{line:21,column:13}},"11":{start:{line:25,column:0},end:{line:48,column:3}},"12":{start:{line:26,column:2},end:{line:47,column:5}},"13":{start:{line:27,column:4},end:{line:46,column:7}},"14":{start:{line:28,column:6},end:{line:28,column:32}},"15":{start:{line:28,column:15},end:{line:28,column:32}},"16":{start:{line:29,column:6},end:{line:29,column:39}},"17":{start:{line:30,column:6},end:{line:30,column:50}},"18":{start:{line:31,column:6},end:{line:31,column:46}},"19":{start:{line:32,column:6},end:{line:32,column:47}},"20":{start:{line:33,column:23},end:{line:33,column:36}},"21":{start:{line:34,column:6},end:{line:34,column:33}},"22":{start:{line:35,column:6},end:{line:44,column:9}},"23":{start:{line:36,column:8},end:{line:36,column:43}},"24":{start:{line:37,column:8},end:{line:37,column:51}},"25":{start:{line:38,column:8},end:{line:38,column:49}},"26":{start:{line:39,column:8},end:{line:39,column:55}},"27":{start:{line:40,column:8},end:{line:40,column:52}},"28":{start:{line:41,column:8},end:{line:41,column:58}},"29":{start:{line:42,column:8},end:{line:42,column:52}},"30":{start:{line:43,column:8},end:{line:43,column:61}},"31":{start:{line:45,column:6},end:{line:45,column:13}},"32":{start:{line:49,column:0},end:{line:59,column:3}},"33":{start:{line:50,column:2},end:{line:58,column:5}},"34":{start:{line:51,column:4},end:{line:57,column:7}},"35":{start:{line:52,column:6},end:{line:52,column:32}},"36":{start:{line:52,column:15},end:{line:52,column:32}},"37":{start:{line:53,column:6},end:{line:53,column:39}},"38":{start:{line:54,column:6},end:{line:54,column:50}},"39":{start:{line:55,column:6},end:{line:55,column:47}},"40":{start:{line:56,column:6},end:{line:56,column:13}},"41":{start:{line:60,column:0},end:{line:69,column:3}},"42":{start:{line:61,column:2},end:{line:68,column:5}},"43":{start:{line:62,column:4},end:{line:67,column:7}},"44":{start:{line:63,column:6},end:{line:63,column:39}},"45":{start:{line:64,column:6},end:{line:64,column:78}},"46":{start:{line:65,column:6},end:{line:65,column:47}},"47":{start:{line:66,column:6},end:{line:66,column:13}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:15,column:24},end:{line:15,column:25}},loc:{start:{line:15,column:30},end:{line:24,column:1}},line:15},"1":{name:"(anonymous_1)",decl:{start:{line:16,column:26},end:{line:16,column:27}},loc:{start:{line:16,column:34},end:{line:23,column:3}},line:16},"2":{name:"(anonymous_2)",decl:{start:{line:17,column:32},end:{line:17,column:33}},loc:{start:{line:17,column:46},end:{line:22,column:5}},line:17},"3":{name:"(anonymous_3)",decl:{start:{line:25,column:35},end:{line:25,column:36}},loc:{start:{line:25,column:41},end:{line:48,column:1}},line:25},"4":{name:"(anonymous_4)",decl:{start:{line:26,column:42},end:{line:26,column:43}},loc:{start:{line:26,column:50},end:{line:47,column:3}},line:26},"5":{name:"(anonymous_5)",decl:{start:{line:27,column:40},end:{line:27,column:41}},loc:{start:{line:27,column:54},end:{line:46,column:5}},line:27},"6":{name:"(anonymous_6)",decl:{start:{line:35,column:23},end:{line:35,column:24}},loc:{start:{line:35,column:34},end:{line:44,column:7}},line:35},"7":{name:"(anonymous_7)",decl:{start:{line:49,column:31},end:{line:49,column:32}},loc:{start:{line:49,column:37},end:{line:59,column:1}},line:49},"8":{name:"(anonymous_8)",decl:{start:{line:50,column:37},end:{line:50,column:38}},loc:{start:{line:50,column:45},end:{line:58,column:3}},line:50},"9":{name:"(anonymous_9)",decl:{start:{line:51,column:53},end:{line:51,column:54}},loc:{start:{line:51,column:67},end:{line:57,column:5}},line:51},"10":{name:"(anonymous_10)",decl:{start:{line:60,column:27},end:{line:60,column:28}},loc:{start:{line:60,column:33},end:{line:69,column:1}},line:60},"11":{name:"(anonymous_11)",decl:{start:{line:61,column:32},end:{line:61,column:33}},loc:{start:{line:61,column:40},end:{line:68,column:3}},line:61},"12":{name:"(anonymous_12)",decl:{start:{line:62,column:97},end:{line:62,column:98}},loc:{start:{line:62,column:111},end:{line:67,column:5}},line:62}},branchMap:{"0":{loc:{start:{line:18,column:6},end:{line:18,column:32}},type:"if",locations:[{start:{line:18,column:6},end:{line:18,column:32}},{start:{line:18,column:6},end:{line:18,column:32}}],line:18},"1":{loc:{start:{line:28,column:6},end:{line:28,column:32}},type:"if",locations:[{start:{line:28,column:6},end:{line:28,column:32}},{start:{line:28,column:6},end:{line:28,column:32}}],line:28},"2":{loc:{start:{line:52,column:6},end:{line:52,column:32}},type:"if",locations:[{start:{line:52,column:6},end:{line:52,column:32}},{start:{line:52,column:6},end:{line:52,column:32}}],line:52}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();import{expect}from'chai';import supertest from'supertest';import app from'../app/app';const request=(cov_2gr2lnjuwh.s[0]++,supertest(app));let productId=(cov_2gr2lnjuwh.s[1]++,null);const dummyData=(cov_2gr2lnjuwh.s[2]++,{name:'test name',category:'phone',description:'test product',minimumAllowed:200,quantity:10,price:'N4000',image:'tet.png'});cov_2gr2lnjuwh.s[3]++;describe('GET /api/v1',()=>{cov_2gr2lnjuwh.f[0]++;cov_2gr2lnjuwh.s[4]++;it('Should load route',done=>{cov_2gr2lnjuwh.f[1]++;cov_2gr2lnjuwh.s[5]++;request.get('/api/v1/').end((err,res)=>{cov_2gr2lnjuwh.f[2]++;cov_2gr2lnjuwh.s[6]++;if(err){cov_2gr2lnjuwh.b[0][0]++;cov_2gr2lnjuwh.s[7]++;return done(err);}else{cov_2gr2lnjuwh.b[0][1]++;}cov_2gr2lnjuwh.s[8]++;expect(res.status).to.equal(200);cov_2gr2lnjuwh.s[9]++;expect(res.body.msg).to.equal('Welcome to Store Manager 1.0');cov_2gr2lnjuwh.s[10]++;done();});});});cov_2gr2lnjuwh.s[11]++;describe('GET available products',()=>{cov_2gr2lnjuwh.f[3]++;cov_2gr2lnjuwh.s[12]++;it('should get all available products',done=>{cov_2gr2lnjuwh.f[4]++;cov_2gr2lnjuwh.s[13]++;request.get('/api/v1/products').end((err,res)=>{cov_2gr2lnjuwh.f[5]++;cov_2gr2lnjuwh.s[14]++;if(err){cov_2gr2lnjuwh.b[1][0]++;cov_2gr2lnjuwh.s[15]++;return done(err);}else{cov_2gr2lnjuwh.b[1][1]++;}cov_2gr2lnjuwh.s[16]++;expect(res.status).to.equal(200);cov_2gr2lnjuwh.s[17]++;expect(res.body).to.haveOwnProperty('data');cov_2gr2lnjuwh.s[18]++;expect(res.body.data).to.be.an('array');cov_2gr2lnjuwh.s[19]++;expect(res.body.data.length).to.equal(3);const products=(cov_2gr2lnjuwh.s[20]++,res.body.data);cov_2gr2lnjuwh.s[21]++;productId=products[0].id;cov_2gr2lnjuwh.s[22]++;products.forEach(product=>{cov_2gr2lnjuwh.f[6]++;cov_2gr2lnjuwh.s[23]++;expect(product).to.be.an('object');cov_2gr2lnjuwh.s[24]++;expect(product).to.haveOwnProperty('name');cov_2gr2lnjuwh.s[25]++;expect(product).to.haveOwnProperty('id');cov_2gr2lnjuwh.s[26]++;expect(product).to.haveOwnProperty('category');cov_2gr2lnjuwh.s[27]++;expect(product).to.haveOwnProperty('price');cov_2gr2lnjuwh.s[28]++;expect(product).to.haveOwnProperty('description');cov_2gr2lnjuwh.s[29]++;expect(product).to.haveOwnProperty('image');cov_2gr2lnjuwh.s[30]++;expect(product).to.haveOwnProperty('minimumAllowed');});cov_2gr2lnjuwh.s[31]++;done();});});});cov_2gr2lnjuwh.s[32]++;describe('GET single product',()=>{cov_2gr2lnjuwh.f[7]++;cov_2gr2lnjuwh.s[33]++;it('should get a single products',done=>{cov_2gr2lnjuwh.f[8]++;cov_2gr2lnjuwh.s[34]++;request.get(`/api/v1/products/${productId}`).end((err,res)=>{cov_2gr2lnjuwh.f[9]++;cov_2gr2lnjuwh.s[35]++;if(err){cov_2gr2lnjuwh.b[2][0]++;cov_2gr2lnjuwh.s[36]++;return done(err);}else{cov_2gr2lnjuwh.b[2][1]++;}cov_2gr2lnjuwh.s[37]++;expect(res.status).to.equal(200);cov_2gr2lnjuwh.s[38]++;expect(res.body).to.haveOwnProperty('data');cov_2gr2lnjuwh.s[39]++;expect(res.body.data).to.be.an('object');cov_2gr2lnjuwh.s[40]++;done();});});});cov_2gr2lnjuwh.s[41]++;describe('Create Product',()=>{cov_2gr2lnjuwh.f[10]++;cov_2gr2lnjuwh.s[42]++;it('should create a product',done=>{cov_2gr2lnjuwh.f[11]++;cov_2gr2lnjuwh.s[43]++;request.post('/api/v1/products').set('Content-Type','Application/json').send(dummyData).end((err,res)=>{cov_2gr2lnjuwh.f[12]++;cov_2gr2lnjuwh.s[44]++;expect(res.status).to.equal(201);cov_2gr2lnjuwh.s[45]++;expect(res.body.msg).to.equal('A new product was successfully created');cov_2gr2lnjuwh.s[46]++;expect(res.body.data).to.be.an('object');cov_2gr2lnjuwh.s[47]++;done();});});});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzLnNwZWMuanMiXSwibmFtZXMiOlsiZXhwZWN0Iiwic3VwZXJ0ZXN0IiwiYXBwIiwicmVxdWVzdCIsInByb2R1Y3RJZCIsImR1bW15RGF0YSIsIm5hbWUiLCJjYXRlZ29yeSIsImRlc2NyaXB0aW9uIiwibWluaW11bUFsbG93ZWQiLCJxdWFudGl0eSIsInByaWNlIiwiaW1hZ2UiLCJkZXNjcmliZSIsIml0IiwiZG9uZSIsImdldCIsImVuZCIsImVyciIsInJlcyIsInN0YXR1cyIsInRvIiwiZXF1YWwiLCJib2R5IiwibXNnIiwiaGF2ZU93blByb3BlcnR5IiwiZGF0YSIsImJlIiwiYW4iLCJsZW5ndGgiLCJwcm9kdWN0cyIsImlkIiwiZm9yRWFjaCIsInByb2R1Y3QiLCJwb3N0Iiwic2V0Iiwic2VuZCJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsTUFBVCxRQUF1QixNQUF2QjtBQUNBLE9BQU9DLFNBQVAsTUFBc0IsV0FBdEI7QUFDQSxPQUFPQyxHQUFQLE1BQWdCLFlBQWhCO0FBRUEsTUFBTUMsT0FBTyxHQUFHRixTQUFTLENBQUNDLEdBQUQsQ0FBekI7QUFDQSxJQUFJRSxTQUFTLEdBQUcsSUFBaEI7QUFFQSxNQUFNQyxTQUFTLEdBQUc7QUFDaEJDLEVBQUFBLElBQUksRUFBRSxXQURVO0FBRWhCQyxFQUFBQSxRQUFRLEVBQUUsT0FGTTtBQUdoQkMsRUFBQUEsV0FBVyxFQUFFLGNBSEc7QUFJaEJDLEVBQUFBLGNBQWMsRUFBRSxHQUpBO0FBS2hCQyxFQUFBQSxRQUFRLEVBQUUsRUFMTTtBQU1oQkMsRUFBQUEsS0FBSyxFQUFFLE9BTlM7QUFPaEJDLEVBQUFBLEtBQUssRUFBRTtBQVBTLENBQWxCO0FBVUFDLFFBQVEsQ0FBQyxhQUFELEVBQWdCLE1BQU07QUFDNUJDLEVBQUFBLEVBQUUsQ0FBQyxtQkFBRCxFQUF1QkMsSUFBRCxJQUFVO0FBQ2hDWixJQUFBQSxPQUFPLENBQ0phLEdBREgsQ0FDTyxVQURQLEVBRUdDLEdBRkgsQ0FFTyxDQUFD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TSxDQUFDbUIsR0FBRyxDQUFDSSxJQUFKLENBQVNHLElBQVYsQ0FBTixDQUFzQkwsRUFBdEIsQ0FBeUJNLEVBQXpCLENBQTRCQyxFQUE1QixDQUErQixRQUEvQjtBQUNBYixNQUFBQSxJQUFJO0FBQ0wsS0FUSDtBQVVELEdBWEMsQ0FBRjtBQVlELENBYk8sQ0FBUiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvYW5kZWxhL0RvY3VtZW50cy9zdG9yZS1tYW5hZ2VyL3Rlc3RzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXhwZWN0IH0gZnJvbSAnY2hhaSc7XG5pbXBvcnQgc3VwZXJ0ZXN0IGZyb20gJ3N1cGVydGVzdCc7XG5pbXBvcnQgYXBwIGZyb20gJy4uL2FwcC9hcHAnO1xuXG5jb25zdCByZXF1ZXN0ID0gc3VwZXJ0ZXN0KGFwcCk7XG5sZXQgcHJvZHVjdElkID0gbnVsbDtcblxuY29uc3QgZHVtbXlEYXRhID0ge1xuICBuYW1lOiAndGVzdCBuYW1lJyxcbiAgY2F0ZWdvcnk6ICdwaG9uZScsXG4gIGRlc2NyaXB0aW9uOiAndGVzdCBwcm9kdWN0JyxcbiAgbWluaW11bUFsbG93ZWQ6IDIwMCxcbiAgcXVhbnRpdHk6IDEwLFxuICBwcmljZTogJ040MDAwJyxcbiAgaW1hZ2U6ICd0ZXQucG5nJ1xufTtcblxuZGVzY3JpYmUoJ0dFVCAvYXBpL3YxJywgKCkgPT4ge1xuICBpdCgnU2hvdWxkIGxvYWQgcm91dGUnLCAoZG9uZSkgPT4ge1xuICAgIHJlcXVlc3RcbiAgICAgIC5nZXQoJy9hcGkvdjEvJylcbiAgICAgIC5lbmQoKGVyciwgcmVzKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHJldHVybiBkb25lKGVycik7XG4gICAgICAgIGV4cGVjdChyZXMuc3RhdHVzKS50by5lcXVhbCgyMDApO1xuICAgICAgICBleHBlY3QocmVzLmJvZHkubXNnKS50by5lcXVhbCgnV2VsY29tZSB0byBTdG9yZSBNYW5hZ2VyIDEuMCcpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9KTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ0dFVCBhdmFpbGFibGUgcHJvZHVjdHMnLCAoKSA9PiB7XG4gIGl0KCdzaG91bGQgZ2V0IGFsbCBhdmFpbGFibGUgcHJvZHVjdHMnLCAoZG9uZSkgPT4ge1xuICAgIHJlcXVlc3RcbiAgICAgIC5nZXQoJy9hcGkvdjEvcHJvZHVjdHMnKVxuICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgaWYgKGVycikgcmV0dXJuIGRvbmUoZXJyKTtcbiAgICAgICAgZXhwZWN0KHJlcy5zdGF0dXMpLnRvLmVxdWFsKDIwMCk7XG4gICAgICAgIGV4cGVjdChyZXMuYm9keSkudG8uaGF2ZU93blByb3BlcnR5KCdkYXRhJyk7XG4gICAgICAgIGV4cGVjdChyZXMuYm9keS5kYXRhKS50by5iZS5hbignYXJyYXknKTtcbiAgICAgICAgZXhwZWN0KHJlcy5ib2R5LmRhdGEubGVuZ3RoKS50by5lcXVhbCgzKTtcbiAgICAgICAgY29uc3QgcHJvZHVjdHMgPSByZXMuYm9keS5kYXRhO1xuICAgICAgICBwcm9kdWN0SWQgPSBwcm9kdWN0c1swXS5pZDtcbiAgICAgICAgcHJvZHVjdHMuZm9yRWFjaCgocHJvZHVjdCkgPT4ge1xuICAgICAgICAgIGV4cGVjdChwcm9kdWN0KS50by5iZS5hbignb2JqZWN0Jyk7XG4gICAgICAgICAgZXhwZWN0KHByb2R1Y3QpLnRvLmhhdmVPd25Qcm9wZXJ0eSgnbmFtZScpO1xuICAgICAgICAgIGV4cGVjdChwcm9kdWN0KS50by5oYXZlT3duUHJvcGVydHkoJ2lkJyk7XG4gICAgICAgICAgZXhwZWN0KHByb2R1Y3QpLnRvLmhhdmVPd25Qcm9wZXJ0eSgnY2F0ZWdvcnknKTtcbiAgICAgICAgICBleHBlY3QocHJvZHVjdCkudG8uaGF2ZU93blByb3BlcnR5KCdwcmljZScpO1xuICAgICAgICAgIGV4cGVjdChwcm9kdWN0KS50by5oYXZlT3duUHJvcGVydHkoJ2Rlc2NyaXB0aW9uJyk7XG4gICAgICAgICAgZXhwZWN0KHByb2R1Y3QpLnRvLmhhdmVPd25Qcm9wZXJ0eSgnaW1hZ2UnKTtcbiAgICAgICAgICBleHBlY3QocHJvZHVjdCkudG8uaGF2ZU93blByb3BlcnR5KCdtaW5pbXVtQWxsb3dlZCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdHRVQgc2luZ2xlIHByb2R1Y3QnLCAoKSA9PiB7XG4gIGl0KCdzaG91bGQgZ2V0IGEgc2luZ2xlIHByb2R1Y3RzJywgKGRvbmUpID0+IHtcbiAgICByZXF1ZXN0XG4gICAgICAuZ2V0KGAvYXBpL3YxL3Byb2R1Y3RzLyR7cHJvZHVjdElkfWApXG4gICAgICAuZW5kKChlcnIsIHJlcykgPT4ge1xuICAgICAgICBpZiAoZXJyKSByZXR1cm4gZG9uZShlcnIpO1xuICAgICAgICBleHBlY3QocmVzLnN0YXR1cykudG8uZXF1YWwoMjAwKTtcbiAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5oYXZlT3duUHJvcGVydHkoJ2RhdGEnKTtcbiAgICAgICAgZXhwZWN0KHJlcy5ib2R5LmRhdGEpLnRvLmJlLmFuKCdvYmplY3QnKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdDcmVhdGUgUHJvZHVjdCcsICgpID0+IHtcbiAgaXQoJ3Nob3VsZCBjcmVhdGUgYSBwcm9kdWN0JywgKGRvbmUpID0+IHtcbiAgICByZXF1ZXN0XG4gICAgICAucG9zdCgnL2FwaS92MS9wcm9kdWN0cycpXG4gICAgICAuc2V0KCdDb250ZW50LVR5cGUnLCAnQXBwbGljYXRpb24vanNvbicpXG4gICAgICAuc2VuZChkdW1teURhdGEpXG4gICAgICAuZW5kKChlcnIsIHJlcykgPT4ge1xuICAgICAgICBleHBlY3QocmVzLnN0YXR1cykudG8uZXF1YWwoMjAxKTtcbiAgICAgICAgZXhwZWN0KHJlcy5ib2R5Lm1zZykudG8uZXF1YWwoJ0EgbmV3IHByb2R1Y3Qgd2FzIHN1Y2Nlc3NmdWxseSBjcmVhdGVkJyk7XG4gICAgICAgIGV4cGVjdChyZXMuYm9keS5kYXRhKS50by5iZS5hbignb2JqZWN0Jyk7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0pO1xuICB9KTtcbn0pO1xuIl19